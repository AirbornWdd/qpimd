.TH KROUTE 8 "25 November 2004" "Kroute daemon" "Version 0.97.3"
.SH NAME
kroute \- a routing manager for use with associated Bane components.
.SH SYNOPSIS
.B kroute
[
.B \-bdhklrv
] [
.B \-f
.I config-file
] [
.B \-i
.I pid-file
] [
.B \-P
.I port-number
] [
.B \-A
.I vty-address
] [
.B \-u
.I user
] [
.B \-g
.I group
]
.SH DESCRIPTION
.B kroute 
is a routing manager that implements the 
.B kroute
route engine.
.B kroute 
supports RIPv1, RIPv2, RIPng, OSPF, OSPF6, IS-IS, BGP4+, and BGP4-.
.SH OPTIONS
Options available for the
.B kroute
command:
.TP
\fB\-b\fR, \fB\-\-batch\fR
Runs in batch mode, \fBkroute\fR parses its config and exits.
.TP
\fB\-d\fR, \fB\-\-daemon\fR
Runs in daemon mode, forking and exiting from tty.
.TP
\fB\-f\fR, \fB\-\-config-file \fR\fIconfig-file\fR
Specifies the config file to use for startup. If not specified this
option will likely default to \fB\fI/usr/local/etc/kroute.conf\fR.
.TP
\fB\-g\fR, \fB\-\-group \fR\fIgroup\fR
Specify the group to run as. Default is \fIbane\fR.
.TP
\fB\-h\fR, \fB\-\-help\fR
A brief message.
.TP
\fB\-i\fR, \fB\-\-pid_file \fR\fIpid-file\fR
When kroute starts its process identifier is written to
\fB\fIpid-file\fR.  The init system uses the recorded PID to stop or
restart kroute.  The likely default is \fB\fI/var/run/kroute.pid\fR.
.TP
\fB\-k\fR, \fB\-\-keep_kernel\fR
On startup, don't delete self inserted routes.
.TP
\fB\-P\fR, \fB\-\-vty_port \fR\fIport-number\fR 
Specify the port that the kroute VTY will listen on. This defaults to
2601, as specified in \fB\fI/etc/services\fR.
.TP
\fB\-A\fR, \fB\-\-vty_addr \fR\fIvty-address\fR
Specify the address that the kroute VTY will listen on. Default is all
interfaces.
.TP
\fB\-u\fR, \fB\-\-user \fR\fIuser\fR
Specify the user to run as. Default is \fIbane\fR.
.TP
\fB\-r\fR, \fB\-\-retain\fR 
When the program terminates, retain routes added by \fBkroute\fR.
.TP
\fB\-s\fR, \fB\-\-nl-bufsize \fR\fInetlink-buffer-size\fR
Set netlink receive buffer size. There are cases where kroute daemon can't
handle flood of netlink messages from kernel. If you ever see "recvmsg overrun"
messages in kroute log, you are in trouble.

Solution is to increase receive buffer of netlink socket. Note that kernel
doesn't allow to increase it over maximum value defined in
\fI/proc/sys/net/core/rmem_max\fR. If you want to do it, you have to increase
maximum before starting kroute.

Note that this affects Linux only.
.TP
\fB\-v\fR, \fB\-\-version\fR
Print the version and exit.
.SH FILES
.TP
.BI /usr/local/sbin/kroute
The default location of the 
.B kroute
binary.
.TP
.BI /usr/local/etc/kroute.conf
The default location of the 
.B kroute
config file.
.TP
.BI $(PWD)/kroute.log 
If the 
.B kroute
process is config'd to output logs to a file, then you will find this
file in the directory where you started \fBkroute\fR.
.SH WARNING
This man page is intended to be a quick reference for command line
options. The definitive document is the Info file \fBBane\fR.
.SH DIAGNOSTICS
The kroute process may log to standard output, to a VTY, to a log
file, or through syslog to the system logs. \fBkroute\fR supports many
debugging options, see the Info file, or the source for details.
.SH "SEE ALSO"
.BR bgpd (8),
.BR ripd (8),
.BR ripngd (8),
.BR ospfd (8),
.BR ospf6d (8),
.BR isisd (8),
.BR vtysh (1)
.SH BUGS
.B kroute
eats bugs for breakfast. If you have food for the maintainers try
.BI http://bugzilla.bane.net
.SH AUTHORS
See
.BI http://www.kroute.org
and
.BI http://www.bane.net
or the Info file for an accurate list of authors.

